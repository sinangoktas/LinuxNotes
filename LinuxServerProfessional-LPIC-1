Notes on Linux Server Proffessional(LPIC-1) 


cat, touch, echo, cp, mv, rm, rm -r, ls, ls -l, mkdir 

cd target, cd .. > to up, cd ~ > to home

~/ > home

cat file1 => reading file
cat file1 file2 => concanates the files
cat file1 file2 > file3 => redirecting the output of concatination of file1 and file2 into file3
cat > file1 => a new file created
cat oldfile > newfile 
cat file1 >> file2 => appends file1 to file2 
echo 'some text' >> file => appends the text to file



---------------------------------

sudo lxc-create -t ubuntu -n newpc

##
# The default user is 'ubuntu' with password 'ubuntu'!
# Use the 'sudo' command to run tasks as root in the container.
##


sudo lxc-ls

sudo lxc-ls --fancy

sudo lxc-start -n newpc -d 

sudo apt-get install openssh-server

ssh ubuntu@10.0.3.129 > pw is "ubuntu"

sudo lxc-destroy -n newpc


---------------------------------


lsmod | grep lp > to see if the module lp is exist
cat /pathtofile | grep word > search the file for a word


Managing and toubleshooting the boot process

Right shift key(during boot) > access grub menu
press "e" key > access text editor
press "c" or ctrl-c > access grub command line
advanced options > access recovery mode


shutdown -h now/5/3 > h stands for halt
shutdown -r now/5/3 > r stands for restart

history > command history


---------------------------------

tar -cvf /path/filename* > archives all the files in the present working directory into filename
tar -czvf /path/filename* > archives and compress all the files in the present working directory into filename
tar -xvf /path/filename.tar.gz > extracts arcive content into the present working directory

---------------------------------


ps aux > running processes

ps aux | grep processname > search for a particular processes

free > available memory

free -h > available memory in human readable format

uptime

top > list resouce hogs

kill or pkill pidOrProcessName > to shot down a process by name ... pkill will kill even the processname is missspelled 

killall processnameOrPid > will do the job nicely

-----------------------------------------------

processname & > forces a process to run in the background. You can keep working on the terminal but the process is attached to terminal

disown > to detach from terminal

disown %IndexNumber

jobs > displays the jobs by index

ps > display the process by id

ctrl-z  > interrupt and send back to background

nohup process & > will start the process in the backround and detach it from the terminal 

bg %IndexNumber or bg PID > push the job into background

fg %IndexNumber or fg PID - resume job

kill %IndexNumber or kill PID - Kill the job 




exit > exits the terminal

clear > clears the screen 

evince file.pdf > opens the pdf file1





------------------------------------------

lowering the nice value of a process increase its priority

nice value can be set between -20 and 19 - it is 0 by default

nice -10 apt-get update > setting the nice value to 10
nice --10 apt-get update > setting the nice value to -10

renice -10 -p PID > control nice value after launch > here reducing the nice level

renice does not take a dash as syntax as it is the case in nice

renice 10 -u username > edit user nice value > raising the nice level
renice -10 -g groupname > edit group nice value > reducing the nice level 

top or ps > to find out the nice values 


-------------------------------------------

vi editor

command mode(normal)
insert mode
command line mode

to exit >>>  press Esc > press colon(:) > then q or q! + Enter 
: > command line modei or <Insert>key > insert mode
<Esc>key > exit insert mode 


command line mode ops
:w(save a file)
:exit or :wq(exit vim)
:q(close vi without saving)

command mode
dw (deletes one word to the right)
d$ (delete to the end of the line)
dd (deletee entire line)
p (paste)
u (undo)
yy (copy line)
ZZ (save and exit)
h (move to the left)
l (move to the right)
j (move down)
k (move up)

---------------------------------------------

df -h > lists file systems
df -T > lists file system types
df -ih > lists free inodes
du -h > displays space usage by directory



-------------------------------------------

lsblk > device designation

cd /mnt 
sudo mkdir usb-drive > creating a mount point in the mnt director
sudo mount /dev/sdc1 usb-drive > device sdc1 is mounted to the mountpoint usb-drive

sudo umount sdc > to unmount ... umount ... not unmount 


---------------------------------

sudo chown -R ownername filename
sudo chgrp groupname filename

permission representation

r   w   x
4   2   1

for example 777 would mean all users have r, w and x rights
sudo chmod 666 filename > would take execute power from all users 

sudo chmod o-w filename > others stripped off write power on the object
sudo chmod o+w filename > others given back the write power now 

user classes > u owner, g group, o other


chmod u+s filename > gives user temporary owenership
chmod g+s filename

chmod +t directory_name > protects files or directory from change or being deleted by other users

umask > default value when a file or directory receive when it is created

umask > 0002
umask 0022 > you can reset the umask 
777(rwx rwx rwx) - 022 = 755(rwx r-x r-x)

---------------------------------------------


/bin core system executables and shells
/boot bootloader files
/dev hardware devices
/etc text-based config files
/home user home subdirectories
/lib code libraries
/media place to mount external devices
/mnt alternative location for mounting external devices
/opt program installation files
/proc pseudo file-system representing processes
/root root user's home directory
/run run time data storage 
/sbin admin binaries
/srv site-specific data
/sys system hardware info
/usr application files
/var variable data including logs 

/usr/bin non-essential global binaries
/usr/lib libraries
/usr/sbin non-essential system binaries
/usr/share shared application data
/usr/src application source code

/var/cache application cache data
/var/lib state information
/var/log system logs 
/var/mail user's mailboxes 



sudo find /etc -name *.conf  > will search the etc directory with files name ending with .conf

sudo locate filename > better solution 

sudo updatedb > updates the database of all system files 

whereis filename > locates the filename

whereis -bms filename > b: binary location m: manual files s: sourcecode 
whereis -b filename
whereis -m filename
whereis -s filename 
which program_name > will simalarly display the location of the binary of a program 
type program_name > will show how a particular program will be executed in the current environment - program execution paramiters


Linking files

Each file on a linux system is associated with an Inode. The Inode is a data structure that stores the file's attributes and disk block location. Without an inode's data you would not be able to find, much less use a file. It is possible however, for two files to actually share a single inode

You can obviously copy files from one location to another. What this does is create two identical files, each with its own inode pointing to its particular location. If you should edit either one of these files, the other one will, of course, not be affected.  From here on in, they're not related in any way. However, if you don't really want two separate files in two locations, but you just want to be able to access a single file more conveniently, then you can create a link between two locations. From that point, executing or editing the file in one location will cause the linked version to undergo the same changes. They are in effect, synced to each other. There are two types of linked files: symbolic links, which while remaining in sync with each other, maintains separate inodes, and hard links, which actually share a single inode. ps- if you delete the parent file the link version will be removed

######

ln existingfile linkfile > creating a linkfile 

Symbolic links are usually referred to as symlinks. But why should you want to do this?Knowing in advance that We'll often need this file under similar circumstances, We'll create a linked copy so we can easily access and update the link, but have it available in its up to date version in its original location. 

ln -s myfile myfile-soft > creating a symlink (files will have separate inodes. if the parent file(myfile) renamed or deleted, myfile-soft will cease existence. basically myfile-soft points to myfile then myfile points to the inode)

Creating a hard link works pretty much exact same way as a symlink, but without adding any argument to the command. 

ln myfile myfile-hard > creating a hard link (shares single inode therefore both looklike unique files, there is no way to tell the difference between them. if the parent file(myfile) renamed, myfile-hard will remain linked, if the parent deleted, myfile-hard will remain. basically myfile and myfile-hard points separately to a shared inode)


----------------------------------------------------------------

manage disk quotas

when multiple users use the same resource, you might need to limit the usage of users or groups on vim or nano

sudo quotacheck -avmug > build quota environment
sudo quotaon -av > enable quota controls 
sudo quotaoff -a > disable quota controls
sudo repquota -av > display quota status
sudo edquota -u username > edit user profile
sudo edquota -g groupname > edit group profile 



--------------------------------------------------

user=myname > create asystem variable
export user > makes the variable globally available
unset user
alias printtz="cd /etc;cat timezone"
unalias printtz
function myfunc() { ls -l &1 }
unset -f myfunc

ls | grep file && cat file > both executes to the right only the first comman succeed
ls | grep file || cat file > both executes to the right only the first comman fails
ls | grep file ; cat file > executes both in all cases

script files
filename.sh
chmod +x filename.sh > need to be executable
./filename.sh > to execute

sample file
#!/bin/bash > start with shebang line
echo "Today's date is: "
date
exit 0


read answer > read command will read the user input(string) and assign it to the variable answer. 

declare -i number > need to declare if you want to work with numbers

simple file 
echo "would you like to know the time? "
read answer
#assume we typed yes
echo answer
echo "ok, it is "
date
exit 0


simple file 
#!/bin/bash
declare -i n1
declare -i n2
declare -i total
echo "whats n1? "
read n1
echo "whats n2? "
read n2
total=n1+n2
echo "they equal " $total
exit 0


----------------


date > prints the date and time 
cd /etc;cat timezone > find out the time zone

---------------------------




















 






















































